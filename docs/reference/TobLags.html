<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tobacco lag times — TobLags • tobalcepi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Tobacco lag times — TobLags"><meta property="og:description" content="Prepare the disease specific functions that describe how a change in tobacco consumption
gradually has an effect on the relative risk of disease incidence over time (up to 40 years)
since e.g. someone quit smoking"><meta property="og:image" content="https://stapm.github.io/tobalcepi/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167990045-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167990045-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tobalcepi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/tobalcepi.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Technical documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../use_of_disease_risks_in_stapm.html">Disease risk methods</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/STAPM/tobalcepi" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://gitlab.com/stapm/r-packages/tobalcepi" class="external-link">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stapm.gitlab.io/software.html" class="external-link">
    <span class="fa fa-code"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tobacco lag times</h1>
    
    <div class="hidden name"><code>TobLags.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Prepare the disease specific functions that describe how a change in tobacco consumption
gradually has an effect on the relative risk of disease incidence over time (up to 40 years)
since e.g. someone quit smoking</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TobLags</span><span class="op">(</span></span>
<span>  disease_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pharynx"</span>, <span class="st">"Oral_cavity"</span><span class="op">)</span>,</span>
<span>  n_years <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  lag_data <span class="op">=</span> <span class="fu">tobalcepi</span><span class="fu">::</span><span class="va"><a href="tobacco_lag_times.html">tobacco_lag_times</a></span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>disease_name</dt>
<dd><p>Character - the name of the disease under consideration.</p></dd>


<dt>n_years</dt>
<dd><p>Integer - the number of years from 1 to n over which the effect of a change in
consumption emerges. Defaults to 40 years to fit with the current lag data.</p></dd>


<dt>lag_data</dt>
<dd><p>Data table containing the numerical description of the lag function.
The data table "tobacco lag times" is embedded within the stapmr package.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns a data table with two columns - one for the years since consumption changed, and the other
that gives the proportion by which the effect of a change in consumption
on an individual's relative risk of disease has so far emerged.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>All lag times are taken from a re-analysis of the Cancer prevention II study by Oza et al 2011 and Kontis et al 2014
The values were sent to us by Kontis. Lags are smoothed functions over time describing the proportion of
the excess risk due to smoking that still remains.</p>
<p>Kontis et al. re-analysed the change in risk after smoking in the ACS-CPS II study from Oza et al.,
producing three functions to describe the decline in risk after quitting for each of cancers, CVD and COPD.
The estimates were informed by data on former smokers with known quit dates who were disease-free at baseline.
The results show the proportion of excess relative risk remaining at each time-point since cessation.
A cross-check showed that the figures for cancers were broadly consistent with the findings of the
International Agency for Research on Cancer's (IARC)
2007 review of the decline in risk after quitting smoking.</p>
<p>The remaining question is how risk declines after quitting smoking for diseases that are not cancers,
CVD or COPD. Kontis et al. state that
"Randomised trials also indicate that the benefits of behaviour change and pharmacological treatment
on diabetes risk occur within a few years, more similar to the CVDs than cancers.
 Therefore, we used the CVD curve for diabetes." In-line with Kontis, we apply the rate of decline
 in risk of CVD after quitting smoking to type 2 diabetes.
  For other diseases, we assume that the relative risk reverts to 1 immediately after quitting
  i.e. an immediate rather than a gradual decline in risk.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TobLags</span><span class="op">(</span><span class="st">"Pharynx"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     time_since_quit prop_risk_reduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:               0          0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:               1          0.08876399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:               2          0.16923763</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:               3          0.24226931</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:               4          0.30861345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:               5          0.36894171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:               6          0.42385267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:               7          0.47388041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:               8          0.51950194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:               9          0.56114374</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:              10          0.59918751</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:              11          0.63397523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:              12          0.66581360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:              13          0.69497793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:              14          0.72171559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:              15          0.74624910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:              16          0.76877877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:              17          0.78948509</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:              18          0.80853085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:              19          0.82606301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:              20          0.84221434</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:              21          0.85710491</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:              22          0.87084340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:              23          0.88352822</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:              24          0.89524863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:              25          0.90608559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:              26          0.91611261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:              27          0.92539650</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:              28          0.93399802</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:              29          0.94197248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:              30          0.94937023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32:              31          0.95623718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33:              32          0.96261520</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34:              33          0.96854251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35:              34          0.97405401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36:              35          0.97918161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37:              36          0.98395447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38:              37          0.98839930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39:              38          0.99254055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40:              39          0.99640061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41:              40          1.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     time_since_quit prop_risk_reduction</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/gillespie_d" class="external-link">Duncan Gillespie</a>, Laura Webster, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/henney_m" class="external-link">Maddy Henney</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/angus_c" class="external-link">Colin Angus</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/brennan_a" class="external-link">Alan Brennan</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Relative risks for alcohol related diseases — RRalc • tobalcepi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Relative risks for alcohol related diseases — RRalc"><meta property="og:description" content="Computes the relative risks for each alcohol related disease based on the published risk curves."><meta property="og:image" content="https://stapm.github.io/tobalcepi/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167990045-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167990045-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tobalcepi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/tobalcepi.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Technical documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Methods_for_STAPM_disease_risks.html">Disease risk methods</a>
    </li>
    <li>
      <a href="../articles/Alcohol-attributable_diseases_and_dose-response_curves.pdf">Alcohol disease risks</a>
    </li>
    <li>
      <a href="../articles/Smoking_and_the_risks_of_adult_diseases.pdf">Tobacco disease risks</a>
    </li>
    <li>
      <a href="../articles/PAF_methodology_report.html">Population Attributable Fraction methods</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/STAPM/tobalcepi" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://gitlab.com/stapm/r-packages/tobalcepi" class="external-link">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stapm.gitlab.io/software.html" class="external-link">
    <span class="fa fa-code"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Relative risks for alcohol related diseases</h1>
    
    <div class="hidden name"><code>RRalc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes the relative risks for each alcohol related disease based on the published risk curves.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RRalc</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  disease <span class="op">=</span> <span class="st">"Pharynx"</span>,</span>
<span>  av_weekly_grams_per_day_var <span class="op">=</span> <span class="st">"GPerDay"</span>,</span>
<span>  sex_var <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>  age_var <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  mort_or_morb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mort"</span>, <span class="st">"morb"</span><span class="op">)</span>,</span>
<span>  alc_protective <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  alc_wholly_chronic_thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  alc_wholly_acute_thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  grams_ethanol_per_unit <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  getcurve <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  within_model <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>Data table of individual characteristics.</p></dd>


<dt>disease</dt>
<dd><p>Character - the name of the disease for which the relative risks will be computed.</p></dd>


<dt>av_weekly_grams_per_day_var</dt>
<dd><p>Character - the name of the variable containing each individual's
average weekly consumption of alcohol in grams of ethanol per day.</p></dd>


<dt>sex_var</dt>
<dd><p>Character - the name of the variable containing individual sex.</p></dd>


<dt>age_var</dt>
<dd><p>Character - the name of the variable containing individual age in single years.</p></dd>


<dt>mort_or_morb</dt>
<dd><p>Character - for alcohol related diseases that have separate
relative risk curves for mortality and morbidity, should the curve corresponding to
 mortality ("mort") or morbidity ("morb") be used.</p></dd>


<dt>alc_protective</dt>
<dd><p>Logical - whether to include the protective effects of
alcohol in the risk function. Defaults to TRUE. If TRUE, then the part of the risk function &lt; 1 is set to equal 1.</p></dd>


<dt>alc_wholly_chronic_thresholds</dt>
<dd><p>Numeric vector - the thresholds in UK standard units of alcohol per day 
over which individuals begin to experience an elevated risk
 for chronic diseases that are wholly attributable to alcohol. Input in the order c(female, male). 
 Defaults to the current UK healthy drinking threshold of 14 units/week for females and males, or 2 units/day.</p></dd>


<dt>alc_wholly_acute_thresholds</dt>
<dd><p>Numeric vector - the thresholds in UK standard units of alcohol /day over
which individuals begin to experience an elevated risk
for acute diseases that are wholly attributable to alcohol. Input in the form c(female, male). 
Defaults to 3 units/day for females and 4 units/day for males.</p></dd>


<dt>grams_ethanol_per_unit</dt>
<dd><p>Numeric value giving the conversion factor for the number of grams of pure
ethanol in one UK standard unit of alcohol.</p></dd>


<dt>getcurve</dt>
<dd><p>Logical - do you just want to look at the risk function curve?</p></dd>


<dt>within_model</dt>
<dd><p>Logical - is the function being used within a new-style STAPM simulation. 
Defaults to TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns a numeric vector of each individual's relative risks for the alcohol related disease specified by "disease".</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Relative risks for partially attributable chronic come from published risk functions whose parameters have been
hard-coded within this function rather than being read from an external spreadsheet. For some conditions there are
separate risk functions for morbidity and mortality. For conditions that show a J-shaped risk function that
indicates protective effects of alcohol, there is an option to remove the protective effect by setting all
RR &lt; 1 = 1.</p>
<p>Relative risks for partially attributable acute are computed by the [tobalcepi::PArisk()] function called from within
 this function. The characteristics of individual single occasion drinking are also calculated within this function 
 using [tobalcepi::AlcBinge_stapm()].</p> 
<p>Relative risks for wholly attributable chronic and wholly attributable acute conditions are calculated
 based on the extent to which either weekly or daily consumption exceeds a pre-specified threshold. The risk 
 for wholly attributable acute conditions is calculated by the function [tobalcepi::WArisk_acute()]. We developed a new 
 method to model the absolute risk of wholly attributable acute conditions to suit the STAPM modelling. 
 This new method is based on the method used to model the risk of partially attributable acute conditions - 
 the shape of the risk function is determined by the individual variation in the total annual number of units that
  are drunk above the male/female thresholds for single occasion binge drinking.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Draw disease specific risk functions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="op">(</span></span></span>
<span class="r-in"><span>  GPerDay <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">100</span>,</span></span>
<span class="r-in"><span>  <span class="co">#peakday_grams = 0:100,</span></span></span>
<span class="r-in"><span>  sex <span class="op">=</span> <span class="st">"Female"</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="fl">30</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Apply the function</span></span></span>
<span class="r-in"><span><span class="va">test1</span> <span class="op">&lt;-</span> <span class="fu">RRalc</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data</span>,</span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"Pharynx"</span>,</span></span>
<span class="r-in"><span>  mort_or_morb <span class="op">=</span> <span class="st">"mort"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">test2</span> <span class="op">&lt;-</span> <span class="fu">RRalc</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data</span>,</span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"Ischaemic_heart_disease"</span>,</span></span>
<span class="r-in"><span>  mort_or_morb <span class="op">=</span> <span class="st">"morb"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">test3</span> <span class="op">&lt;-</span> <span class="fu">RRalc</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data</span>,</span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"LiverCirrhosis"</span>,</span></span>
<span class="r-in"><span>  mort_or_morb <span class="op">=</span> <span class="st">"mort"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot the risk functions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">test1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"l"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, ylab <span class="op">=</span> <span class="st">"rr"</span>, </span></span>
<span class="r-in"><span>main <span class="op">=</span> <span class="st">"Females, age 30"</span>, xlab <span class="op">=</span> <span class="st">"g per day"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">test2</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span>, col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">test3</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span>, col <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pharyngeal cancer"</span>, <span class="st">"Ischaemic heart disease morbidity"</span>, <span class="st">"Liver Cirrhosis mortality"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/gillespie_d" class="external-link">Duncan Gillespie</a>, Laura Webster, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/henney_m" class="external-link">Maddy Henney</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/angus_c" class="external-link">Colin Angus</a>, <a href="https://www.sheffield.ac.uk/scharr/sections/heds/staff/brennan_a" class="external-link">Alan Brennan</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

